### 使用 Python+redis 实现高并发的计数器功能
  - redis_count/redis_count.py

### 短信发送
  - short_message/short_message.py

### 1.在你目前的工作场景中，哪个业务适合使用 rabbitmq？ 引入 rabbitmq 主要解决什么问题?
- 对于电商场景适合应用 rabbitmq。 rabbitmq 支持高吞吐、可用性能高、分布式扩展方便、有活跃的社区。
- 异步处理。

  - 例如：网购商品时候，对付款成功的商品进行并发处理，生成订单、发送消息、清空购物车等。

- 流量控制

  - 例如：抢购的时候。使用令牌生成器，指定允许操作用户的数量。比如生成 100 块令牌，指定只能有 100 个用户进行操作。每个用户在抢购时候使用令牌。

- 服务解耦

  - 例如：通过队列存放数据到数据库。上下游系统调用

### 2. 如何避免消息重复投递或重复消费？

- 对重复消息的定义

  - 至多一次：一个生产者多个消费者模式下，最多会有一次被送达。可以保证消息不重复
  - 至少一次：保证消息至少能被收到一次。不能保证消息的重复性。
  - 恰好一次：难以达到

- 解决：幂等性

  - 1. 条件判断。通过判断消息是否处理，记录关键的key，比如处理订单这种，记录订单ID，假如有重复的消息过来，先判断下这个ID是否已经被处理过了，如果没处理再进行下一步。当然也可以用全局唯一ID

  - 2. 通过数据库的约束。例如唯一键

### 3. 交换机 fanout、direct、topic 有什么区别？

  - direct ：根据 route key 直接找到队列，要求该消息与一个特定的路由键完全匹配

  - topic :  根据 route key 进行模糊匹配。分别支持*和#通配符，*表示匹配一个单词，#则表示匹配没有或者多个单词。

  - fanout : 忽略 RoutingKey 的设置，直接将 Message 广播到所有绑定的 Queue 中

### 4. 架构中引入消息队列是否利大于弊？你认为消息队列有哪些缺点？

  - 消息队列的缺点
    - 系统可用性降低。服务都依赖消息队列，一旦消息队列故障，系统崩溃
    - 系统复杂性增加。需要考虑多重问题：如何保证消息队列一致性、如何保证消息不会丢，如何处理重复消息。

  - 引入消息队列有利有弊。在大型分布式系统中适合引用消息队列来解耦、异步处理、流量控制。小型轻量级服务中不适合使用消息队列。具体看应用场景
